<script>
async function fetchInfo() {
  const uid = document.getElementById('uid').value.trim();
  if (!uid) return alert("Please enter a UID!");

  const url = `https://danger-info-alpha.vercel.app/accinfo?uid=${uid}&key=DANGERxINFO`;

  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error("Network response not ok");
    
    const data = await res.json();
    console.log("API Response:", data);  // Debugging
    
    const resultDiv = document.getElementById('result');
    resultDiv.innerHTML = `
      <div class="info-box">
        <h2>Basic Info</h2>
        <p>Nickname: ${data.basicInfo?.nickname || "N/A"}</p>
        <p>Level: ${data.basicInfo?.level || "N/A"}</p>
        <p>Rank: ${data.basicInfo?.rank || "N/A"}</p>
        <p>Region: ${data.basicInfo?.region || "N/A"}</p>
        <p>Likes: ${data.basicInfo?.liked || "N/A"}</p>
      </div>
    `;
  } catch (err) {
    console.error("Fetch Error:", err);
    alert("Error fetching data. Check console for details.");
  }
}
</script>